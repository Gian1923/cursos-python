
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Aplicación de POO: PACMAN &#8212; Inteligencia Artificial Moderna</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Automatización y Minería Web" href="../../Automatizacion/README.html" />
    <link rel="prev" title="Aplicación de POO: Experimento de Tiempo de Reacción" href="../5_Poo_Experimento/poo-experimento.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/logohumai.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Inteligencia Artificial Moderna</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro.html">
   Inteligencia Artificial Moderna
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Introduccion a la Programación con Python
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../README.html">
   Introducción a Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../1_TiposDatos/tipos-datos.html">
   Introducción a la programación con Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../1_TiposDatos/ejercicio/ejercicios.html">
   Ejercicios I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../2_Listas_Y_Funciones/listas-funciones.html">
   Listas, Funciones, Errores
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../2_Listas_Y_Funciones/ejercicio/ejercicio.html">
   Ejercicios II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../2_Listas_Y_Funciones/ejercicio/adicionales.html">
   Ejercicios Adicionales II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../3_Modulos_Funciones/modulos-funciones.html">
   Módulos y Algorítmos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../3_Modulos_Funciones/ejercicio/ejercicio.html">
   Ejercicios III
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../4_Intro_Poo/intro-poo.html">
   Programación orientada a objetos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../4_Intro_Poo/ejercicio/ejercicio.html">
   Ejercicios POO IV
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../5_Poo_Experimento/poo-experimento.html">
   Aplicación de POO: Experimento de Tiempo de Reacción
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Aplicación de POO: PACMAN
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Automatización
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/README.html">
   Automatización y Minería Web
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Automatizaci%C3%B3n_I/automatizacion_pygui_bash_os.html">
   Automatización
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Automatizaci%C3%B3n_2/clase_automatizacion_2_gsheets_cron_mails.html">
   Automatización II: outputs, envío de mail, volcado a GSheets, scheduling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Automatizaci%C3%B3n_2/clase_automatizacion_2_ejercicios.html">
   Ejercicios Automatización II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Expresiones_Regulares/expresiones_regulares.html">
   Expresiones Regulares
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Otros/gsheets_pytrends.html">
   Práctica: GSheet y PyTrends
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Otros/organizando_pdfs.html">
   Ejercicio: Organizando PDFs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Automatizacion/Otros/edicion_imagenes.html">
   Edición de Imágenes con Python
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Minería Web
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/README.html">
   1. Minería Web con Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/1_HTTP_Inicial/web_scraping_http_inicial.html">
   2. Web Scraping: Extrayendo datos de Internet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/1_HTTP_Inicial/ejercicio/spinetta.html">
   3. Descargar letras de canciones
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/2_HTTP_Avanzado/scraping_http_avanzado.html">
   4. Encontrando APIs ocultas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/2_HTTP_Avanzado/scraping_avanzado_2.html">
   8. Práctica: Scraping Avanzado 2:
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/2_HTTP_Avanzado/ejercicio/apis-ocultas.html">
   10. Argenprop
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/2_HTTP_Avanzado/scraping_extra_tips.html">
   12. Tips para scrapear mejor
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../Scraping/3_Selenium_y_xpath/scraping_por_automatizacion.html">
   13. Scraping por Automatización con Selenium
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  APIs
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../APIs/README.html">
   APIs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../APIs/1_APIs_Geograficas/clase-1.html">
   APIs geográficas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../APIs/1_APIs_Geograficas/clase-1-ejercicios.html">
   APIs Geográficas: Ejercicios
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../APIs/2_APIs_Series_Tiempo/clase-2.html">
   APIs de Series de Tiempo
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../APIs/2_APIs_Series_Tiempo/ejercicios/ejercicios.html">
   APIs Series de Tiempo: Ejercicios
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Análisis de Datos
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/README.html">
   Analisis de datos con Python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/1_Indexing/Indexing.html">
   Indexación y Agregación
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/1_Indexing/ejercicio/ejercicio.html">
   Ejercicios Pandas I
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/2_Pivot_Table_y_Joins/clase-2.html">
   Pivot tables y joins
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/2_Pivot_Table_y_Joins/clase-2-ejercicios.html">
   Ejercicios Pandas II
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/3_Agrupacion_y_Agregacion/agrupacion_agregacion.html">
   Agrupación
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/3_Agrupacion_y_Agregacion/ejercicio/ejercicio.html">
   Ejercicios Pandas III
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/4_Data_Wrangling_Avanzado/data_wrangling_avanzado.html">
   Data Wrangling Avanzado
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/4_Data_Wrangling_Avanzado/ejercicio/ejercicio.html">
   Ejercicio Pandas IV: Informe macroeconómico de Argentina
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/5_Visualizacion/Visualizacion_Pandas.html">
   Visualización con Pandas y Matplotlib
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/5_Visualizacion/Visualizacion_Plotly.html">
   Visualización con Plotly
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../AnalisisDeDatos/5_Visualizacion/Ejercitacion/Ejercitacion_Extra.html">
   Ejercicios Visualización
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Aprendizaje Automático
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../MachineLearning/README.html">
   Machine Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MachineLearning/1_Introduccion/rls.html">
   Regresión Lineal Simple
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MachineLearning/2_RegresionLinealMultiple/RegresionLinealMultiple.html">
   Regresión Lineal Múltiple
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MachineLearning/3_Regularizacion/Regularizacion.html">
   Regularización - Optimización - Feature Engineering - Pipelines
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MachineLearning/5_KNNyArbolesDeDecision/KNN_Arboles.html">
   Modelos no paramétricos: K-Nearest Neighbours y Árboles de decisión
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MachineLearning/6_Ensamble/Bagging%26Boosting.html">
   Ensambles: Bagging &amp; Boosting
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MachineLearning/8_ShapyAnomalias/anomaly-detection-shap-values.html">
   Detección de anomalías y explicabilidad de modelos con valores SHAP
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MachineLearning/9_SeriesDeTiempo/1.ARIMA.html">
   Series de tiempo
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MachineLearning/9_SeriesDeTiempo/2.Prophet.html">
   Prophet
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../MachineLearning/10_Recomendacion/sistemas_recomendacion.html">
   Sistemas de Recomendación
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Colaboración
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../General/0_Colaboracion/Guia%20para%20armar%20contenido.html">
   Generando contenido
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/Introduccion/6_Poo_Proyecto/poo-proyecto.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://institutohumai.github.io/cursos-python/"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://institutohumai.github.io/cursos-python//issues/new?title=Issue%20on%20page%20%2FIntroduccion/6_Poo_Proyecto/poo-proyecto.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#poblando-el-tablero-e-inicializando-el-juego">
   Poblando el tablero e inicializando el juego
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#validar-el-input">
   Validar el input
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mover-a-pacman">
   Mover a Pacman
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#validar-los-movimientos-de-pacman">
   Validar los movimientos de Pacman
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#agregar-el-movimiento-de-los-fantasmas">
   Agregar el movimiento de los fantasmas
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fantasmas-perseguidores">
   Fantasmas perseguidores
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Aplicación de POO: PACMAN</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#poblando-el-tablero-e-inicializando-el-juego">
   Poblando el tablero e inicializando el juego
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#validar-el-input">
   Validar el input
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mover-a-pacman">
   Mover a Pacman
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#validar-los-movimientos-de-pacman">
   Validar los movimientos de Pacman
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#agregar-el-movimiento-de-los-fantasmas">
   Agregar el movimiento de los fantasmas
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fantasmas-perseguidores">
   Fantasmas perseguidores
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <p><a href="https://colab.research.google.com/github/institutohumai/cursos-python/blob/master/Introduccion/6_Poo_Proyecto/poo-proyecto.ipynb"> <img src='https://colab.research.google.com/assets/colab-badge.svg' /> </a></p>
<div align="center"> Recordá abrir en una nueva pestaña </div><div class="tex2jax_ignore mathjax_ignore section" id="aplicacion-de-poo-pacman">
<h1>Aplicación de POO: PACMAN<a class="headerlink" href="#aplicacion-de-poo-pacman" title="Permalink to this headline">¶</a></h1>
<p>En esta guía vamos a empezar a diseñar una versión básica del tradicional juego PACMAN, organizando el código a partir de algunos conceptos de POO.</p>
<p>Qué elementos van a ser clases? Pensemos en cómo es el juego…
En primer lugar, existe un juego, que surje de la interacción entre el PACMAN, los FANTASMAS, el MAPA… Antes de pensar cómo modelar el juego pensemos en el mapa.</p>
<p>¿Cómo describirían un mapa?</p>
<p>Una versión simple de un mapa podría considerar:</p>
<ul class="simple">
<li><p>Ser como una matriz, lo cual lo podríamos hacer con una lista de listas</p></li>
<li><p>Ser accesible en sus posiciones, ya que vamos a querer posicionar a los fantasmas, a pacman y posiblemente otros objetos</p></li>
<li><p>Ser printeable/printable</p></li>
<li><p>Poder preguntarle si una posición existe en el mapa, o qué hay en una determinada posición</p></li>
</ul>
<p>Escribamos primero la clase “Mapa”.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">sys</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Mapa</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_rows</span><span class="p">,</span> <span class="n">n_cols</span><span class="p">):</span>
        <span class="c1"># primero guardo la cantidad de filas y la cantidad de columnas</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_rows</span> <span class="o">=</span> <span class="n">n_rows</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_cols</span> <span class="o">=</span> <span class="n">n_cols</span>
        <span class="c1"># luego, genero un mapa vacío. Nota: ésto se puede hacer mejor usando setters, dejémoslo para otra oportunidad</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_map</span> <span class="o">=</span> <span class="p">[[</span><span class="n">CeldaVacia</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_cols</span><span class="p">)]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_rows</span><span class="p">)]</span>
    
    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="p">):</span>
        <span class="c1"># esta es una función mágica, nos va a permitir acceder de una forma muy pythonezca</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map</span><span class="p">[</span><span class="n">row</span><span class="p">]</span> <span class="c1"># pueden adivinar qué nos va a devolver?</span>
    
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># esta es otra función mágica, nos va a dar un print muy canchero, y luego la vamos a modificar más</span>
        <span class="n">str_map</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">col_idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)):</span>
                <span class="n">str_map</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">col_idx</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">col_idx</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">str_map</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
                
        <span class="k">return</span> <span class="n">str_map</span>
</pre></div>
</div>
</div>
</div>
<p>Y ahora vamos a generar el primer objeto que puede pertenecer a un mapa: una celda vacía. Queremos que esta celda vacía se muestre desde una clase que no es la original, usamos el método <code> <strong>repr</strong> </code> en lugar de <code> <strong>str</strong> </code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">CeldaVacia</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot; . &quot;</span>
</pre></div>
</div>
</div>
</div>
<p>Primero, veamos para qué sirve…</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># instanciamos un mapa de 5 filas por 3 columnas</span>
<span class="n">mapa</span> <span class="o">=</span> <span class="n">Mapa</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mapa</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">mapa</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mapa</span><span class="o">.</span><span class="n">n_cols</span>
</pre></div>
</div>
</div>
</div>
<p>¿Qué va a pasar a continuación…?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mapa</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>¿Qué más podemos imprimir dentro del mapa? A continuación vamos a crear las clases Pacman y Fantasma</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Fantasma</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot; G &quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Pacman</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot; P &quot;</span>
</pre></div>
</div>
</div>
</div>
<p>Ahora que ya creamos estos elementos, necesitamos crear métodos en el mapa que nos permitan agregarlos y también consultar para cada posición del mapa qué elemento la está ocupando.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Mapa</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n_filas</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">n_columnas</span><span class="p">:</span><span class="nb">int</span><span class="p">):</span>
        <span class="c1"># primero guardo la cantidad de filas y la cantidad de columnas</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_filas</span> <span class="o">=</span> <span class="n">n_filas</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n_columnas</span> <span class="o">=</span> <span class="n">n_columnas</span>
        <span class="c1"># luego, genero un mapa vacío. Nota: ésto se puede hacer mejor usando setters, dejémoslo para otra oportunidad</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span> <span class="o">=</span> <span class="p">[[</span><span class="n">CeldaVacia</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_columnas</span><span class="p">)]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_filas</span><span class="p">)]</span>
    
   
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">str_map</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">col_idx</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)):</span>
                <span class="n">element</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">col_idx</span><span class="p">]</span>
                <span class="n">str_map</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">col_idx</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">str_map</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
                
        <span class="k">return</span> <span class="n">str_map</span>

    <span class="k">def</span> <span class="nf">modificar_elemento</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elemento</span><span class="p">,</span> <span class="n">pos_x</span><span class="p">,</span> <span class="n">pos_y</span><span class="p">):</span>
        <span class="c1"># método para modificar el tablero</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">[</span><span class="n">pos_x</span><span class="p">][</span><span class="n">pos_y</span><span class="p">]</span> <span class="o">=</span> <span class="n">elemento</span>

    <span class="k">def</span> <span class="nf">get_elemento</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
      <span class="c1"># método para tomar un elemento</span>
      <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_elementos</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Creamos un nuevo mapa</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mapa</span> <span class="o">=</span> <span class="n">Mapa</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">mapa</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Y vamos a agregar a Pacman en la posición (2,2)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mapa</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">Pacman</span><span class="p">(),</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">mapa</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Ahora vamos a crear la clase Juego. A la hora de inicializar el juego, creamos un mapa con los personajes ubicados en sus posiciones iniciales.</p>
<p>Ejercicio: Creen una clase “Juego” que tenga entre sus propiedades un mapa de 9x9 donde vamos a colocar un Pacman en la posición (2,3) y fantasmas en las posiciones (4,4) y (5,7).</p>
<div class="section" id="poblando-el-tablero-e-inicializando-el-juego">
<h2>Poblando el tablero e inicializando el juego<a class="headerlink" href="#poblando-el-tablero-e-inicializando-el-juego" title="Permalink to this headline">¶</a></h2>
<p>Ahora vamos a crear una clase Juego que se inicialice con un mapa de 7X8 y los personajes en distintas posiciones. También vamos a inicializar el score en 0 y crear un método start() que permita tomar el input del usuario y nos muestre el tablero.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Juego</span><span class="p">:</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># cuando instanciamos el juego creamos personajes. Por ahora las posiciones son fijas pero se podrían hacer al azar</span>
        <span class="n">mapa_inicial</span> <span class="o">=</span> <span class="n">Mapa</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
        <span class="n">mapa_inicial</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">Pacman</span><span class="p">(),</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">mapa_inicial</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">Fantasma</span><span class="p">(),</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">mapa_inicial</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">Fantasma</span><span class="p">(),</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span> <span class="o">=</span> <span class="n">mapa_inicial</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">puntaje</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">fin</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="n">fin</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;score:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">puntaje</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="p">)</span>
            <span class="n">input_movimiento</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">juego</span> <span class="o">=</span> <span class="n">Juego</span><span class="p">()</span>
<span class="n">juego</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="validar-el-input">
<h2>Validar el input<a class="headerlink" href="#validar-el-input" title="Permalink to this headline">¶</a></h2>
<p>Por ahora el juego nos permite ingresar cualquier valor, no reacciona a ese input y tenemos que terminar el juego manualmente.</p>
<p>Agreguemos, entonces un poco de funcionalidad a la clase Juego. Ahora vamos a validar que el input sea alguna de las teclas “a”,”w”,”s” o “d” que permiten mover a Pacman. Para eso vamos a crear un método privado en la clase _input_valido que valida si la tecla es correcta</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Juego</span><span class="p">:</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># cuando instanciamos el juego creamos personajes. Por ahora las posiciones son fijas pero se podrían hacer al azar</span>
        <span class="n">mapa_inicial</span> <span class="o">=</span> <span class="n">Mapa</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
        <span class="n">mapa_inicial</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">Pacman</span><span class="p">(),</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">mapa_inicial</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">Fantasma</span><span class="p">(),</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">mapa_inicial</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">Fantasma</span><span class="p">(),</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span> <span class="o">=</span> <span class="n">mapa_inicial</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">puntaje</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Loop con la lógica del juego</span>
        <span class="n">fin</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="n">fin</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;score:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">puntaje</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="p">)</span>
            <span class="n">input_movimiento</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_valido</span><span class="p">(</span><span class="n">input_movimiento</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;El input tiene que ser a, w, s o d&quot;</span><span class="p">)</span>
                
    <span class="k">def</span> <span class="nf">_input_valido</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">move_input</span><span class="p">):</span>
        <span class="c1"># Valida si el input es correcto</span>
        <span class="k">if</span> <span class="n">move_input</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;w&quot;</span><span class="p">,</span><span class="s2">&quot;s&quot;</span><span class="p">,</span><span class="s2">&quot;d&quot;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">juego</span> <span class="o">=</span> <span class="n">Juego</span><span class="p">()</span>
<span class="n">juego</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="mover-a-pacman">
<h2>Mover a Pacman<a class="headerlink" href="#mover-a-pacman" title="Permalink to this headline">¶</a></h2>
<p>Ahora queremos reaccionar al input del usuario. Para esto vamos a invocar al método _modificar_elemento.</p>
<ul class="simple">
<li><p>Para poder mover a Pacman tenemos que consultar su posición. Esto lo hacemos con el método _get_posicion_pacman.</p></li>
<li><p>Una vez que tenemos la posición vamos a calcular la nueva posición en función del movimiento del usuario. Noten que éste puede ser un método estático porque no modifica ni consulta ninguna de las propiedades de la clase Juego.</p></li>
<li><p>Finalmente actualizamos el mapa del juego.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Juego</span><span class="p">:</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># cuando instanciamos el juego creamos personajes. Por ahora las posiciones son fijas pero se podrían hacer al azar</span>
        <span class="n">mapa_inicial</span> <span class="o">=</span> <span class="n">Mapa</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
        <span class="n">mapa_inicial</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">Pacman</span><span class="p">(),</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">mapa_inicial</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">Fantasma</span><span class="p">(),</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">mapa_inicial</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">Fantasma</span><span class="p">(),</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span> <span class="o">=</span> <span class="n">mapa_inicial</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">puntaje</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Loop con la lógica del juego</span>
        <span class="n">fin</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="n">fin</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;score:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">puntaje</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="p">)</span>
            <span class="n">input_movimiento</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_valido</span><span class="p">(</span><span class="n">input_movimiento</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;El input tiene que ser a, w, s o d&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_actualizar_mapa</span><span class="p">(</span><span class="n">input_movimiento</span><span class="p">)</span>
                
    <span class="k">def</span> <span class="nf">_input_valido</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_movimiento</span><span class="p">):</span>
        <span class="c1"># Valida si el input es correcto</span>
        <span class="k">if</span> <span class="n">input_movimiento</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;w&quot;</span><span class="p">,</span><span class="s2">&quot;s&quot;</span><span class="p">,</span><span class="s2">&quot;d&quot;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        
    <span class="k">def</span> <span class="nf">_actualizar_mapa</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_movimiento</span><span class="p">):</span>
        <span class="c1"># Actualiza la posición del pacman</span>
        <span class="n">pacman_x</span><span class="p">,</span><span class="n">pacman_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_posicion_pacman</span><span class="p">()</span>
        <span class="n">nueva_x</span><span class="p">,</span> <span class="n">nueva_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_avanzar_posicion</span><span class="p">(</span><span class="n">pacman_x</span><span class="p">,</span><span class="n">pacman_y</span><span class="p">,</span><span class="n">input_movimiento</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">CeldaVacia</span><span class="p">(),</span> <span class="n">pacman_x</span><span class="p">,</span> <span class="n">pacman_y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">Pacman</span><span class="p">(),</span> <span class="n">nueva_x</span><span class="p">,</span> <span class="n">nueva_y</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">0</span>
    
    <span class="k">def</span> <span class="nf">_get_posicion_pacman</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Iteramos por todos los elementos del mapa del juego hasta encontrar a Pacman</span>
        <span class="k">for</span> <span class="n">fila</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">n_filas</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">columna</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">n_columnas</span><span class="p">):</span>
                <span class="n">elemento</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">get_elemento</span><span class="p">(</span><span class="n">fila</span><span class="p">,</span><span class="n">columna</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elemento</span><span class="p">,</span><span class="n">Pacman</span><span class="p">):</span>
                    <span class="c1"># Hay un único elemento de la clase Pacman. Los demás son Fantasma o CeldaVacia</span>
                    <span class="k">return</span> <span class="n">fila</span><span class="p">,</span> <span class="n">columna</span>
                
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_avanzar_posicion</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">move</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">move</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span><span class="p">:</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">move</span> <span class="o">==</span> <span class="s2">&quot;w&quot;</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">move</span> <span class="o">==</span> <span class="s2">&quot;s&quot;</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">move</span> <span class="o">==</span> <span class="s2">&quot;d&quot;</span><span class="p">:</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">move</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span>
</pre></div>
</div>
</div>
</div>
<p>Ahora movamos un poco a Pacman por el mapa del juego.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">juego</span> <span class="o">=</span> <span class="n">Juego</span><span class="p">()</span>
<span class="n">juego</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="validar-los-movimientos-de-pacman">
<h2>Validar los movimientos de Pacman<a class="headerlink" href="#validar-los-movimientos-de-pacman" title="Permalink to this headline">¶</a></h2>
<p>Ahora nos queda agregar un poco más de funcionalidad:</p>
<ul class="simple">
<li><p>Validar que se pierde cuando Pacman coincide en el casillero con un Fantasma</p></li>
<li><p>Aumentar el score en cada jugada</p></li>
<li><p>Evitar que los Pacman se salga de los límites del mapa.</p></li>
</ul>
<p>Como el resultado de mover a Pacman puede ser tanto chocarse con la pared, como coincidir con un fantasma y perder, como moverse exitosamente, vamos a ampliar la funcionalidad del método _actualizar_mapa.</p>
<p>Ahora este método devuelve un status, de acuerdo al resultado de la movida y vamos a renombrarlo como _actualizar_mapa_y_devolver_status. Noten lo importante que es que los métodos tengan nombres detallados que señalen todo lo que hacen. De esa forma el código es más legible y eso mejora la experiencia de trabajar colaborando con otros.</p>
<p>No tengan miedo de usar nombres largos para los métodos. Poner buenos nombres para las variables y funciones hace que el código cuente una historia que otros también puedan leer.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Juego</span><span class="p">:</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># cuando instanciamos el juego creamos personajes. Por ahora las posiciones son fijas pero se podrían hacer al azar</span>
        <span class="n">mapa_inicial</span> <span class="o">=</span> <span class="n">Mapa</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
        <span class="n">mapa_inicial</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">Pacman</span><span class="p">(),</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">mapa_inicial</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">Fantasma</span><span class="p">(),</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">mapa_inicial</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">Fantasma</span><span class="p">(),</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span> <span class="o">=</span> <span class="n">mapa_inicial</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">puntaje</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Loop con la lógica del juego</span>
        <span class="n">fin</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="n">fin</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;score:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">puntaje</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="p">)</span>
            <span class="n">input_movimiento</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_valido</span><span class="p">(</span><span class="n">input_movimiento</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;El input tiene que ser a, w, s o d&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actualizar_mapa_y_devolver_status</span><span class="p">(</span><span class="n">input_movimiento</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cuidado con la pared&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Perdiste&quot;</span><span class="p">)</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">puntaje</span> <span class="o">+=</span> <span class="mi">1</span>

                
    <span class="k">def</span> <span class="nf">_input_valido</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_movimiento</span><span class="p">):</span>
        <span class="c1"># Valida si el input es correcto</span>
        <span class="k">if</span> <span class="n">input_movimiento</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;w&quot;</span><span class="p">,</span><span class="s2">&quot;s&quot;</span><span class="p">,</span><span class="s2">&quot;d&quot;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        
    <span class="k">def</span> <span class="nf">_actualizar_mapa_y_devolver_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_movimiento</span><span class="p">):</span>
        <span class="c1"># Actualiza la posición del pacman</span>
        <span class="n">pacman_x</span><span class="p">,</span><span class="n">pacman_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_posicion_pacman</span><span class="p">()</span>
        <span class="n">nueva_x</span><span class="p">,</span> <span class="n">nueva_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_avanzar_posicion</span><span class="p">(</span><span class="n">pacman_x</span><span class="p">,</span><span class="n">pacman_y</span><span class="p">,</span><span class="n">input_movimiento</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">nueva_x</span><span class="p">,</span> <span class="n">nueva_y</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choca_la_pared</span><span class="p">(</span><span class="n">nueva_x</span><span class="p">,</span> <span class="n">nueva_y</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">get_elemento</span><span class="p">(</span><span class="n">nueva_x</span><span class="p">,</span> <span class="n">nueva_y</span><span class="p">),</span><span class="n">Fantasma</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">CeldaVacia</span><span class="p">(),</span> <span class="n">pacman_x</span><span class="p">,</span> <span class="n">pacman_y</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">Pacman</span><span class="p">(),</span> <span class="n">nueva_x</span><span class="p">,</span> <span class="n">nueva_y</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">0</span>
    
    <span class="k">def</span> <span class="nf">_get_posicion_pacman</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Iteramos por todos los elementos del mapa del juego hasta encontrar a Pacman</span>
        <span class="k">for</span> <span class="n">fila</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">n_filas</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">columna</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">n_columnas</span><span class="p">):</span>
                <span class="n">elemento</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">get_elemento</span><span class="p">(</span><span class="n">fila</span><span class="p">,</span><span class="n">columna</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elemento</span><span class="p">,</span><span class="n">Pacman</span><span class="p">):</span>
                    <span class="c1"># Hay un único elemento de la clase Pacman. Los demás son Fantasma o CeldaVacia</span>
                    <span class="k">return</span> <span class="n">fila</span><span class="p">,</span> <span class="n">columna</span>
                
    <span class="k">def</span> <span class="nf">_choca_la_pared</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">n_filas</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">n_columnas</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>
        
                
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_avanzar_posicion</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">move</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">move</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span><span class="p">:</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">move</span> <span class="o">==</span> <span class="s2">&quot;w&quot;</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">move</span> <span class="o">==</span> <span class="s2">&quot;s&quot;</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">move</span> <span class="o">==</span> <span class="s2">&quot;d&quot;</span><span class="p">:</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">move</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">juego</span> <span class="o">=</span> <span class="n">Juego</span><span class="p">()</span>
<span class="n">juego</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="agregar-el-movimiento-de-los-fantasmas">
<h2>Agregar el movimiento de los fantasmas<a class="headerlink" href="#agregar-el-movimiento-de-los-fantasmas" title="Permalink to this headline">¶</a></h2>
<p>Ahora vamos a agregar movimiento al azar para los fantasmas al principio de la jugada. Estos pueden moverse en cuatro posibles direcciones. Para decidir adónde irán, vamos a ordenar estas cuatro posiciones al azar y elegir la primera que sea “válida”, es decir, que no se choca contra una pared ni trata de ocupar un casillero ya ocupado.</p>
<p>Noten cómo reutilizamos los métodos que habíamos usado para mover a Pacman “_choca_la_pared” y “_avanzar_posicion” vuelven a usarse para mover a los fantasmas</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Juego</span><span class="p">:</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># cuando instanciamos el juego creamos personajes. Por ahora las posiciones son fijas pero se podrían hacer al azar</span>
        <span class="n">mapa_inicial</span> <span class="o">=</span> <span class="n">Mapa</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
        <span class="n">mapa_inicial</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">Pacman</span><span class="p">(),</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">mapa_inicial</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">Fantasma</span><span class="p">(),</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
        <span class="n">mapa_inicial</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">Fantasma</span><span class="p">(),</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span> <span class="o">=</span> <span class="n">mapa_inicial</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">puntaje</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Loop con la lógica del juego</span>
        <span class="n">fin</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="n">fin</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;score:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">puntaje</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="p">)</span>
            <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mover_fantasmas_y_devolver_status</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Perdiste&quot;</span><span class="p">)</span>
                <span class="k">return</span>
            <span class="n">input_movimiento</span> <span class="o">=</span> <span class="nb">input</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_valido</span><span class="p">(</span><span class="n">input_movimiento</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;El input tiene que ser a, w, s o d&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_actualizar_mapa_y_devolver_status</span><span class="p">(</span><span class="n">input_movimiento</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cuidado con la pared&quot;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Perdiste&quot;</span><span class="p">)</span>
                    <span class="k">return</span>
                <span class="k">elif</span> <span class="n">status</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">puntaje</span> <span class="o">+=</span> <span class="mi">1</span>

                
    <span class="k">def</span> <span class="nf">_input_valido</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_movimiento</span><span class="p">):</span>
        <span class="c1"># Valida si el input es correcto</span>
        <span class="k">if</span> <span class="n">input_movimiento</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;w&quot;</span><span class="p">,</span><span class="s2">&quot;s&quot;</span><span class="p">,</span><span class="s2">&quot;d&quot;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        
    <span class="k">def</span> <span class="nf">_actualizar_mapa_y_devolver_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_movimiento</span><span class="p">):</span>
        <span class="c1"># Actualiza la posición del pacman</span>
        <span class="n">pacman_x</span><span class="p">,</span><span class="n">pacman_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_posicion_pacman</span><span class="p">()</span>
        <span class="n">nueva_x</span><span class="p">,</span> <span class="n">nueva_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_avanzar_posicion</span><span class="p">(</span><span class="n">pacman_x</span><span class="p">,</span><span class="n">pacman_y</span><span class="p">,</span><span class="n">input_movimiento</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choca_la_pared</span><span class="p">(</span><span class="n">nueva_x</span><span class="p">,</span> <span class="n">nueva_y</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">get_elemento</span><span class="p">(</span><span class="n">nueva_x</span><span class="p">,</span> <span class="n">nueva_y</span><span class="p">),</span><span class="n">Fantasma</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">CeldaVacia</span><span class="p">(),</span> <span class="n">pacman_x</span><span class="p">,</span> <span class="n">pacman_y</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">Pacman</span><span class="p">(),</span> <span class="n">nueva_x</span><span class="p">,</span> <span class="n">nueva_y</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">0</span>
    
    <span class="k">def</span> <span class="nf">_get_posicion_pacman</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Iteramos por todos los elementos del mapa del juego hasta encontrar a Pacman</span>
        <span class="k">for</span> <span class="n">fila</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">n_filas</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">columna</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">n_columnas</span><span class="p">):</span>
                <span class="n">elemento</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">get_elemento</span><span class="p">(</span><span class="n">fila</span><span class="p">,</span><span class="n">columna</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elemento</span><span class="p">,</span><span class="n">Pacman</span><span class="p">):</span>
                    <span class="c1"># Hay un único elemento de la clase Pacman. Los demás son Fantasma o CeldaVacia</span>
                    <span class="k">return</span> <span class="n">fila</span><span class="p">,</span> <span class="n">columna</span>
                
    <span class="k">def</span> <span class="nf">_choca_la_pared</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">n_filas</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">n_columnas</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="kc">True</span>
        
                
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_avanzar_posicion</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">move</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">move</span> <span class="o">==</span> <span class="s2">&quot;a&quot;</span><span class="p">:</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">move</span> <span class="o">==</span> <span class="s2">&quot;w&quot;</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">move</span> <span class="o">==</span> <span class="s2">&quot;s&quot;</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">elif</span> <span class="n">move</span> <span class="o">==</span> <span class="s2">&quot;d&quot;</span><span class="p">:</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">move</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span>
    
    <span class="k">def</span> <span class="nf">_mover_fantasmas_y_devolver_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">posiciones_fantasmas</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_posiciones_fantasmas</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">posicion_fantasma</span> <span class="ow">in</span> <span class="n">posiciones_fantasmas</span><span class="p">:</span>
            <span class="n">nueva_x</span><span class="p">,</span> <span class="n">nueva_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nueva_posicion_fantasma</span><span class="p">(</span><span class="n">posicion_fantasma</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">get_elemento</span><span class="p">(</span><span class="n">nueva_x</span><span class="p">,</span> <span class="n">nueva_y</span><span class="p">),</span> <span class="n">Pacman</span><span class="p">):</span>
                <span class="k">return</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">Fantasma</span><span class="p">(),</span><span class="n">nueva_x</span><span class="p">,</span> <span class="n">nueva_y</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">modificar_elemento</span><span class="p">(</span><span class="n">CeldaVacia</span><span class="p">(),</span><span class="n">posicion_fantasma</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">posicion_fantasma</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">return</span> <span class="mi">0</span>
    
    <span class="k">def</span> <span class="nf">_nueva_posicion_fantasma</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">posicion_fantasma</span><span class="p">):</span>
        <span class="n">posibles_direcciones</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;w&quot;</span><span class="p">,</span><span class="s2">&quot;s&quot;</span><span class="p">,</span><span class="s2">&quot;d&quot;</span><span class="p">]</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">posibles_direcciones</span><span class="p">)</span>
        <span class="c1"># El método shuffle modifica la lista &quot;inplace&quot; y cambia el orden original por un orden aleatorio </span>
        <span class="k">for</span> <span class="n">direccion</span> <span class="ow">in</span> <span class="n">posibles_direcciones</span><span class="p">:</span>
            <span class="n">nueva_x</span><span class="p">,</span> <span class="n">nueva_y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_avanzar_posicion</span><span class="p">(</span><span class="n">posicion_fantasma</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">posicion_fantasma</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">direccion</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_choca_la_pared</span><span class="p">(</span><span class="n">nueva_x</span><span class="p">,</span> <span class="n">nueva_y</span><span class="p">)</span> <span class="ow">and</span> \
                <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">get_elemento</span><span class="p">(</span><span class="n">nueva_x</span><span class="p">,</span> <span class="n">nueva_y</span><span class="p">),</span> <span class="n">Fantasma</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">nueva_x</span><span class="p">,</span> <span class="n">nueva_y</span>

    <span class="k">def</span> <span class="nf">_get_posiciones_fantasmas</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">posiciones_fantasmas</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">fila</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">n_filas</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">columna</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">n_columnas</span><span class="p">):</span>
                <span class="n">elemento</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapa</span><span class="o">.</span><span class="n">get_elemento</span><span class="p">(</span><span class="n">fila</span><span class="p">,</span><span class="n">columna</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">elemento</span><span class="p">,</span><span class="n">Fantasma</span><span class="p">):</span>
                    <span class="n">posiciones_fantasmas</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">fila</span><span class="p">,</span><span class="n">columna</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">posiciones_fantasmas</span>
          
           
        
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">juego</span> <span class="o">=</span> <span class="n">Juego</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">juego</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="fantasmas-perseguidores">
<h2>Fantasmas perseguidores<a class="headerlink" href="#fantasmas-perseguidores" title="Permalink to this headline">¶</a></h2>
<p>Ahora sería bueno que los fantasmas sean inteligentes. Es decir que persigan a Pacman por el tablero en vez de moverse aleatoriamente.</p>
<p>Para eso vamos a programarles el siguiente comportamiento: van a acercarse a Pacman en la dirección en la cual se encuentran más lejos. Lo bueno de este comportamiento es que nunca los va a hacer chocarse contra una pared así que podemos borrar ese control.</p>
<p>Imaginen esta posición en el tablero.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
<th class="head"><p></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>.</p></td>
<td><p>.</p></td>
<td><p>.</p></td>
<td><p>G(0,4)</p></td>
<td><p>.</p></td>
</tr>
<tr class="row-odd"><td><p>.</p></td>
<td><p>.</p></td>
<td><p>.</p></td>
<td><p>.</p></td>
<td><p>.</p></td>
</tr>
<tr class="row-even"><td><p>P(3,0)</p></td>
<td><p>.</p></td>
<td><p>.</p></td>
<td><p>.</p></td>
<td><p>.</p></td>
</tr>
<tr class="row-odd"><td><p>.</p></td>
<td><p>.</p></td>
<td><p>.</p></td>
<td><p>.</p></td>
<td><p>.</p></td>
</tr>
</tbody>
</table>
<p>Para acercarse a Pacman el fantasma se debería mover hacia la izquierda porque la distancia más grande se encuentra en el eje y. Cuando la diferencia más grande está en el eje x, el fantasma se debería mover para arriba o para abajo. El signo de la diferencia es el que determina concretamente para dónde se mueve el fantasma. En caso de empate, cualquiera de las direcciones es lo mismo.</p>
<p>Ejercicio
Agranden el tamaño del tablero a 10x10 y modifiquen el método <code> _mover_fantasmas_y_devolver_status </code> para que los fantasmas sean perseguidores.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">juego</span> <span class="o">=</span> <span class="n">Juego</span><span class="p">()</span>
<span class="n">juego</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./Introduccion/6_Poo_Proyecto"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="../5_Poo_Experimento/poo-experimento.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Aplicación de POO: Experimento de Tiempo de Reacción</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../../Automatizacion/README.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Automatización y Minería Web</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Matías Grinberg<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>